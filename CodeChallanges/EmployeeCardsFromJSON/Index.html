<html>

<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="robots" content="noindex, nofollow">
    <meta name="googlebot" content="noindex, nofollow">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="css/style.css" rel="stylesheet">
    <script src="//ajax.googleapis.com/ajax/libs/mootools/1.4.1/mootools-nocompat.js" type="text/javascript"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css">

    <script type="text/javascript">

        //Display a table of "Employees‚Äù from a JSON source 
        //that when displayed on a desktop device looks like 
        //a table, but looks more like a set of tiles/cards when 
        //shown on a smaller mobile device. Bonus: Use a profile image 
        //as part of the data to display.
        window.addEvent('load', function () {

            var json = {
                "items": [
                    {
                        "text": "Employee 1",
                        "image": "https://sawyerkokesh.github.io/CodeChallanges/EmployeeCardsFromJSON/images/2.png"
                    },
                    {
                        "text": "Employee 2",
                        "image": "https://sawyerkokesh.github.io/CodeChallanges/EmployeeCardsFromJSON/images/3.png"
                    },
                    {
                        "text": "Employee 3",
                        "image": "https://sawyerkokesh.github.io/CodeChallanges/EmployeeCardsFromJSON/images/4.png"
                    },
                    {
                        "text": "Employee 4",
                        "image": "https://sawyerkokesh.github.io/CodeChallanges/EmployeeCardsFromJSON/images/5.png"
                    }
                ]
            };

            var employees = document.getElementsByClassName("containerEmployees")[0];
            var cardCol = document.createElement("div");
            cardCol.className += "card-columns";
            employees.appendChild(cardCol);
            var items = json.items;
            for (var i = 0; i < items.length; i++) {


                var card = document.createElement("div");
                card.className += "card bg-primary";
                cardCol.appendChild(card);

                var cardBody = document.createElement("div");
                cardBody.className += "card-body text-center";
                card.appendChild(cardBody);

                var cardText = document.createElement("p");
                var cardImage = document.createElement("IMG");
                cardImage.setAttribute("src", items[i].image);
                cardImage.className += ("cover");
                cardImage.setAttribute("width", "75%");
                cardImage.setAttribute("alt", "temp image");
                cardText.className += "card-text";
                cardText.innerHTML = items[i].text;
                cardBody.appendChild(cardText);
                cardBody.appendChild(cardImage);
            }
            document.getElementById("json").innerHTML = JSON.stringify(json, undefined, 2);
        });

    </script>

</head>

<nav class="navbar navbar-dark bg-dark">
    <h3>
        Employee Table From JSON
    </h3>
</nav>

<body>
    <h5>Current list</h5>
    <div class="containerEmployees"></div>
    <script>
        // tell the embed parent frame the height of the content
        if (window.parent && window.parent.parent) {
            window.parent.parent.postMessage(["resultsFrame", {
                height: document.body.getBoundingClientRect().height,
                slug: "AWRAW"
            }], "*")
        }

    </script>
    <h5>Input Json</h5>
    <pre id="json"></pre>
</body>

</html>